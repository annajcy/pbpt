[1/12] Copying compile_commands.json -> /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/build/compile_commands.json
[2/12] Linking CXX executable test/loader/test_scene_roundtrip
[3/12] Linking CXX executable test/loader/test_scene_loader_reflectance_rgb
[4/12] Linking CXX executable test/loader/test_scene_loader_fail_fast
[5/12] Linking CXX executable test/loader/test_scene_loader_matrix
[6/12] Linking CXX executable test/loader/test_scene_loader_texture_reflectance
[7/12] Building CXX object examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o
FAILED: examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DSTB_TEXTEDIT_KEYTYPE=unsigned -I/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src -isystem /Users/jinceyang/.conan2/p/stb6342cecb318f5/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include/OpenEXR -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include/Imath -isystem /Users/jinceyang/.conan2/p/b/pugixdc0e923b0a1df/p/include -isystem /Users/jinceyang/.conan2/p/embrea9ffe32f14a4c/p/include -isystem /Users/jinceyang/.conan2/p/b/onetb21cb2b8701e9d/p/include -stdlib=libc++ -O3 -DNDEBUG -std=c++2b -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk -MD -MT examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o -MF examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o.d -o examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o -c /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:125:91: error: too few arguments to function call, expected at least 4, have 3
  125 |                     auto bsdf_f = bsdf.f(si.wo(), ls.wi, material::TransportMode::Radiance);
      |                                   ~~~~~~                                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:44:39: note: 'f' declared here
   44 |     radiometry::SampledSpectrum<T, N> f(const radiometry::SampledWavelength<T, N>& swl, const math::Vector<T, 3>& wo,
      |                                       ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   45 |                                         const math::Vector<T, 3>& wi, TransportMode mode,
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   46 |                                         const BxDFFlags flags = BxDFFlags::ALL) const {
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/scene/scene.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/material_type.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/lambertian_material.hpp:7:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:96: error: too many arguments to function call, expected at most 4, have 5
   49 |         return std::visit([&](const auto& bxdf) { return bxdf.f(swl, wo_local, wi_local, mode, flags); }, m_bxdf);
      |                                                          ~~~~~~                                ^~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::NullBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), _Args = <const pbpt::material::NullBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bxdf.hpp:160:39: note: 'f' declared here
  160 |     radiometry::SampledSpectrum<T, N> f(const radiometry::SampledWavelength<T, N>& swl, const math::Vector<T, 3>& wo,
      |                                       ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  161 |                                         const math::Vector<T, 3>& wi,
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  162 |                                         TransportMode mode = TransportMode::Radiance) const {
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:6:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: error: static assertion failed due to requirement 'is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>': `std::visit` requires the visitor to be exhaustive.
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__std_visit_exhaustive_visitor_check<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:6:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:14: error: attempt to use a deleted function
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/nat.h:25:3: note: '~__nat' has been explicitly marked deleted here
   25 |   ~__nat()                       = delete;
      |   ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:6:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: error: attempt to use a deleted function
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL, 1UL, 2UL, 3UL, 4UL, 5UL, 6UL, 7UL>' requested here
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:499:32: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  499 |     constexpr auto __fmatrix = __make_fmatrix<_Visitor&&, decltype(std::forward<_Vs>(__vs).__as_base())...>();
      |                                ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:585:20: note: (skipping 7 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  585 |     return __base::__visit_alt(
      |                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/nat.h:25:3: note: '~__nat' has been explicitly marked deleted here
   25 |   ~__nat()                       = delete;
      |   ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:6:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:12: error: cannot deduce return type 'auto' from returned value of type '<overloaded function type>'
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL, 1UL, 2UL, 3UL, 4UL, 5UL, 6UL, 7UL>' requested here
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:499:32: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  499 |     constexpr auto __fmatrix = __make_fmatrix<_Visitor&&, decltype(std::forward<_Vs>(__vs).__as_base())...>();
      |                                ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:585:20: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__visit_alt<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, const std::__variant_detail::__impl<pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  585 |     return __base::__visit_alt(
      |                    ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:597:12: note: (skipping 6 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  597 |     return __visit_alt(__make_value_visitor(std::forward<_Visitor>(__visitor)), std::forward<_Vs>(__vs)...);
      |            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:531:59: note: candidate template ignored: failed template argument deduction
  531 |     _LIBCPP_HIDE_FROM_ABI static constexpr decltype(auto) __dispatch(_Fp __f, _Vs... __vs) {
      |                                                           ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
[8/12] Building CXX object examples/CMakeFiles/cbox.dir/cbox.cpp.o
FAILED: examples/CMakeFiles/cbox.dir/cbox.cpp.o 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DSTB_TEXTEDIT_KEYTYPE=unsigned -I/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src -isystem /Users/jinceyang/.conan2/p/stb6342cecb318f5/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include/OpenEXR -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include/Imath -isystem /Users/jinceyang/.conan2/p/b/pugixdc0e923b0a1df/p/include -isystem /Users/jinceyang/.conan2/p/embrea9ffe32f14a4c/p/include -isystem /Users/jinceyang/.conan2/p/b/onetb21cb2b8701e9d/p/include -stdlib=libc++ -O3 -DNDEBUG -std=c++2b -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk -MD -MT examples/CMakeFiles/cbox.dir/cbox.cpp.o -MF examples/CMakeFiles/cbox.dir/cbox.cpp.o.d -o examples/CMakeFiles/cbox.dir/cbox.cpp.o -c /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:125:91: error: too few arguments to function call, expected at least 4, have 3
  125 |                     auto bsdf_f = bsdf.f(si.wo(), ls.wi, material::TransportMode::Radiance);
      |                                   ~~~~~~                                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:44:39: note: 'f' declared here
   44 |     radiometry::SampledSpectrum<T, N> f(const radiometry::SampledWavelength<T, N>& swl, const math::Vector<T, 3>& wo,
      |                                       ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   45 |                                         const math::Vector<T, 3>& wi, TransportMode mode,
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   46 |                                         const BxDFFlags flags = BxDFFlags::ALL) const {
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/scene/scene.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/material_type.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/lambertian_material.hpp:7:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:96: error: too many arguments to function call, expected at most 4, have 5
   49 |         return std::visit([&](const auto& bxdf) { return bxdf.f(swl, wo_local, wi_local, mode, flags); }, m_bxdf);
      |                                                          ~~~~~~                                ^~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::NullBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), _Args = <const pbpt::material::NullBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bxdf.hpp:160:39: note: 'f' declared here
  160 |     radiometry::SampledSpectrum<T, N> f(const radiometry::SampledWavelength<T, N>& swl, const math::Vector<T, 3>& wo,
      |                                       ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  161 |                                         const math::Vector<T, 3>& wi,
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  162 |                                         TransportMode mode = TransportMode::Radiance) const {
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:7:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: error: static assertion failed due to requirement 'is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>': `std::visit` requires the visitor to be exhaustive.
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__std_visit_exhaustive_visitor_check<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:7:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:14: error: attempt to use a deleted function
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/nat.h:25:3: note: '~__nat' has been explicitly marked deleted here
   25 |   ~__nat()                       = delete;
      |   ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:7:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: error: attempt to use a deleted function
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL, 1UL, 2UL, 3UL, 4UL, 5UL, 6UL, 7UL>' requested here
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:499:32: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  499 |     constexpr auto __fmatrix = __make_fmatrix<_Visitor&&, decltype(std::forward<_Vs>(__vs).__as_base())...>();
      |                                ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:585:20: note: (skipping 7 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  585 |     return __base::__visit_alt(
      |                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/nat.h:25:3: note: '~__nat' has been explicitly marked deleted here
   25 |   ~__nat()                       = delete;
      |   ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:7:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:12: error: cannot deduce return type 'auto' from returned value of type '<overloaded function type>'
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL, 1UL, 2UL, 3UL, 4UL, 5UL, 6UL, 7UL>' requested here
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:499:32: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  499 |     constexpr auto __fmatrix = __make_fmatrix<_Visitor&&, decltype(std::forward<_Vs>(__vs).__as_base())...>();
      |                                ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:585:20: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__visit_alt<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, const std::__variant_detail::__impl<pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  585 |     return __base::__visit_alt(
      |                    ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:597:12: note: (skipping 6 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  597 |     return __visit_alt(__make_value_visitor(std::forward<_Visitor>(__visitor)), std::forward<_Vs>(__vs)...);
      |            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:531:59: note: candidate template ignored: failed template argument deduction
  531 |     _LIBCPP_HIDE_FROM_ABI static constexpr decltype(auto) __dispatch(_Fp __f, _Vs... __vs) {
      |                                                           ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
[9/12] Building CXX object test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o
FAILED: test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DSTB_TEXTEDIT_KEYTYPE=unsigned -I/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src -isystem /Users/jinceyang/.conan2/p/stb6342cecb318f5/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include/OpenEXR -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include/Imath -isystem /Users/jinceyang/.conan2/p/b/pugixdc0e923b0a1df/p/include -isystem /Users/jinceyang/.conan2/p/embrea9ffe32f14a4c/p/include -isystem /Users/jinceyang/.conan2/p/b/onetb21cb2b8701e9d/p/include -isystem /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include -stdlib=libc++ -O3 -DNDEBUG -std=c++2b -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk -MD -MT test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o -MF test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o.d -o test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o -c /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:125:91: error: too few arguments to function call, expected at least 4, have 3
  125 |                     auto bsdf_f = bsdf.f(si.wo(), ls.wi, material::TransportMode::Radiance);
      |                                   ~~~~~~                                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:44:39: note: 'f' declared here
   44 |     radiometry::SampledSpectrum<T, N> f(const radiometry::SampledWavelength<T, N>& swl, const math::Vector<T, 3>& wo,
      |                                       ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   45 |                                         const math::Vector<T, 3>& wi, TransportMode mode,
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   46 |                                         const BxDFFlags flags = BxDFFlags::ALL) const {
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:14:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/simple_path_integrator.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:20:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/scene/scene.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/material_type.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/lambertian_material.hpp:7:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:96: error: too many arguments to function call, expected at most 4, have 5
   49 |         return std::visit([&](const auto& bxdf) { return bxdf.f(swl, wo_local, wi_local, mode, flags); }, m_bxdf);
      |                                                          ~~~~~~                                ^~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::NullBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), _Args = <const pbpt::material::NullBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bxdf.hpp:160:39: note: 'f' declared here
  160 |     radiometry::SampledSpectrum<T, N> f(const radiometry::SampledWavelength<T, N>& swl, const math::Vector<T, 3>& wo,
      |                                       ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  161 |                                         const math::Vector<T, 3>& wi,
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  162 |                                         TransportMode mode = TransportMode::Radiance) const {
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:63:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-assertion-result.h:46:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-message.h:57:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/internal/gtest-port.h:2463:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: error: static assertion failed due to requirement 'is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>': `std::visit` requires the visitor to be exhaustive.
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__std_visit_exhaustive_visitor_check<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27), const pbpt::material::NullBxDF<double, 4> &>' requested here
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:63:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-assertion-result.h:46:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-message.h:57:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/internal/gtest-port.h:2463:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:14: error: attempt to use a deleted function
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: (skipping 8 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/nat.h:25:3: note: '~__nat' has been explicitly marked deleted here
   25 |   ~__nat()                       = delete;
      |   ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:63:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-assertion-result.h:46:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-message.h:57:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/internal/gtest-port.h:2463:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: error: attempt to use a deleted function
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL, 1UL, 2UL, 3UL, 4UL, 5UL, 6UL, 7UL>' requested here
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:499:32: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  499 |     constexpr auto __fmatrix = __make_fmatrix<_Visitor&&, decltype(std::forward<_Vs>(__vs).__as_base())...>();
      |                                ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:585:20: note: (skipping 6 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  585 |     return __base::__visit_alt(
      |                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/nat.h:25:3: note: '~__nat' has been explicitly marked deleted here
   25 |   ~__nat()                       = delete;
      |   ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:63:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-assertion-result.h:46:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest-message.h:57:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/internal/gtest-port.h:2463:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:12: error: cannot deduce return type 'auto' from returned value of type '<overloaded function type>'
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:571:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix_impl<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL, 1UL, 2UL, 3UL, 4UL, 5UL, 6UL, 7UL>' requested here
  571 |     return __make_fmatrix_impl<_Fp, _Vs...>(
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:499:32: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_fmatrix<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  499 |     constexpr auto __fmatrix = __make_fmatrix<_Visitor&&, decltype(std::forward<_Vs>(__vs).__as_base())...>();
      |                                ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:585:20: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__visit_alt<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:49:27)>, const std::__variant_detail::__impl<pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  585 |     return __base::__visit_alt(
      |                    ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:597:12: note: (skipping 5 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  597 |     return __visit_alt(__make_value_visitor(std::forward<_Visitor>(__visitor)), std::forward<_Vs>(__vs)...);
      |            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:531:59: note: candidate template ignored: failed template argument deduction
  531 |     _LIBCPP_HIDE_FROM_ABI static constexpr decltype(auto) __dispatch(_Fp __f, _Vs... __vs) {
      |                                                           ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:163:53: error: no member named 'max_component_value' in 'pbpt::radiometry::SampledSpectrum<double, 4>'
  163 |                 T q = std::max(T(0.05), T(1) - beta.max_component_value());
      |                                                ~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:38:22: error: no matching member function for call to 'Li_loop_ray'
   38 |         return this->Li_loop_ray(context, ray, wavelength_sample, sampler);
      |                ~~~~~~^~~~~~~~~~~
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:167:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  167 |         return as_derived().template Li_ray_impl<SamplerT>(context, ray, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:142:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  142 |                         Li = this->Li_ray(context, ray, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:54:39: note: candidate template ignored: substitution failure [with SamplerT = pbpt::lds::IndependentSampler<double>, SceneContextT = pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::BoxFilter<double>, pbpt::aggregate::EmbreeAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>]
   54 |     radiometry::SampledSpectrum<T, N> Li_loop_ray(const SceneContextT& context, geometry::Ray<T, 3> ray,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:130:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  130 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:180:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  180 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:46:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   46 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::TentFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
ninja: build stopped: subcommand failed.
