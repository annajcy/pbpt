[1/7] Copying compile_commands.json -> /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/build/compile_commands.json
[2/7] Building CXX object examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o
FAILED: examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DSTB_TEXTEDIT_KEYTYPE=unsigned -I/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src -isystem /Users/jinceyang/.conan2/p/stb6342cecb318f5/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include/OpenEXR -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include/Imath -isystem /Users/jinceyang/.conan2/p/b/pugixdc0e923b0a1df/p/include -isystem /Users/jinceyang/.conan2/p/embrea9ffe32f14a4c/p/include -isystem /Users/jinceyang/.conan2/p/b/onetb21cb2b8701e9d/p/include -stdlib=libc++ -O3 -DNDEBUG -std=c++2b -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk -MD -MT examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o -MF examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o.d -o examples/CMakeFiles/pbpt_cli.dir/pbpt_cli.cpp.o -c /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:132:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  132 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:181:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  181 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:8:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/scene/scene.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/material_type.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/lambertian_material.hpp:7:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::NullBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::NullBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::NullBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::NullBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::LambertianBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::LambertianBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::LambertianBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<1, pbpt::material::LambertianBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<1UL, LambertianBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<1>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 1UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::LambertianBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<2, pbpt::material::DielectricBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<2UL, DielectricBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<2>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 2UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricSpecularBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricSpecularBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricSpecularBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<3, pbpt::material::DielectricSpecularBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<3UL, DielectricSpecularBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<3>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 3UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricSpecularBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricRoughBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricRoughBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricRoughBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<4, pbpt::material::DielectricRoughBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<4UL, DielectricRoughBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<4>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 4UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricRoughBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::ConductorBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::ConductorBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::ConductorBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:2:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/format:200:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__format/buffer.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_n.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy.h:12:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/copy_move_common.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/unwrap_range.h:15:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__iterator/concepts.h:20:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__concepts/invocable.h:13:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/invoke.h:14:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<5, pbpt::material::ConductorBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<5UL, ConductorBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<5>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 5UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/pbpt_cli.cpp:31:55: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   31 |         std::visit([&](auto& integrator) { integrator.render(result.scene, output_path, false, spp); }, result.integrator);
      |                                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::ConductorBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
[3/7] Building CXX object examples/CMakeFiles/cbox.dir/cbox.cpp.o
FAILED: examples/CMakeFiles/cbox.dir/cbox.cpp.o 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DSTB_TEXTEDIT_KEYTYPE=unsigned -I/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src -isystem /Users/jinceyang/.conan2/p/stb6342cecb318f5/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include/OpenEXR -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include/Imath -isystem /Users/jinceyang/.conan2/p/b/pugixdc0e923b0a1df/p/include -isystem /Users/jinceyang/.conan2/p/embrea9ffe32f14a4c/p/include -isystem /Users/jinceyang/.conan2/p/b/onetb21cb2b8701e9d/p/include -stdlib=libc++ -O3 -DNDEBUG -std=c++2b -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk -MD -MT examples/CMakeFiles/cbox.dir/cbox.cpp.o -MF examples/CMakeFiles/cbox.dir/cbox.cpp.o.d -o examples/CMakeFiles/cbox.dir/cbox.cpp.o -c /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:132:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  132 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:181:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  181 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:10:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/scene/scene.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/material_type.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/lambertian_material.hpp:7:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::NullBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::NullBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::NullBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::NullBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::LambertianBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::LambertianBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::LambertianBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<1, pbpt::material::LambertianBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<1UL, LambertianBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<1>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 1UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::LambertianBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<2, pbpt::material::DielectricBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<2UL, DielectricBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<2>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 2UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricSpecularBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricSpecularBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricSpecularBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<3, pbpt::material::DielectricSpecularBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<3UL, DielectricSpecularBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<3>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 3UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricSpecularBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricRoughBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricRoughBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricRoughBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<4, pbpt::material::DielectricRoughBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<4UL, DielectricRoughBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<4>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 4UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricRoughBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::ConductorBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::ConductorBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 16 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::ConductorBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:1:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/filesystem:543:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/directory_entry.h:19:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/filesystem_error.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__filesystem/path.h:25:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/string:593:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min.h:14:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__algorithm/min_element.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<5, pbpt::material::ConductorBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<5UL, ConductorBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<5>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 5UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 10 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:55:9: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   55 |         render(scene, std::move(output_path), is_trace_ray_differential, RenderObserver{}, spp);
      |         ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/examples/cbox.cpp:74:28: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
   74 |                 integrator.render(result.scene, out_exr.string(), false, spp);
      |                            ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::ConductorBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
[4/7] Building CXX object test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o
FAILED: test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DSTB_TEXTEDIT_KEYTYPE=unsigned -I/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src -isystem /Users/jinceyang/.conan2/p/stb6342cecb318f5/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include -isystem /Users/jinceyang/.conan2/p/opene8179f1fbc964b/p/include/OpenEXR -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include -isystem /Users/jinceyang/.conan2/p/b/imath96a37d96d3c29/p/include/Imath -isystem /Users/jinceyang/.conan2/p/b/pugixdc0e923b0a1df/p/include -isystem /Users/jinceyang/.conan2/p/embrea9ffe32f14a4c/p/include -isystem /Users/jinceyang/.conan2/p/b/onetb21cb2b8701e9d/p/include -isystem /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include -stdlib=libc++ -O3 -DNDEBUG -std=c++2b -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk -MD -MT test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o -MF test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o.d -o test/integrator/CMakeFiles/test_integrator.dir/test_integrator.cpp.o -c /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:15:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/scene_loader.hpp:12:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/serde/xml_result.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/integrator_type.hpp:5:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:132:69: error: no member named 'unoccluded' in 'pbpt::light::VisibilityTester<double, pbpt::geometry::SurfaceInteraction<double>>'
  132 |                         if (pdf_bsdf > T(0) && ls.visibility_tester.unoccluded(context.aggregate)) {
      |                                                ~~~~~~~~~~~~~~~~~~~~ ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:181:16: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  181 |         return Li_loop_ray(context, ray_diff.main_ray(), wavelength_sample, sampler);
      |                ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:14:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/simple_path_integrator.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:20:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/scene/scene.hpp:11:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/material_type.hpp:4:
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/plugin/material/lambertian_material.hpp:7:
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::NullBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::NullBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 14 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::NullBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::NullBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<0, pbpt::material::NullBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<0UL, NullBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<0>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 0UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::NullBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::LambertianBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::LambertianBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 14 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::LambertianBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::LambertianBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<1, pbpt::material::LambertianBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<1UL, LambertianBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<1>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 1UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::LambertianBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 14 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<2, pbpt::material::DielectricBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<2UL, DielectricBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<2>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 2UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricSpecularBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricSpecularBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 14 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricSpecularBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricSpecularBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<3, pbpt::material::DielectricSpecularBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<3UL, DielectricSpecularBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<3>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 3UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricSpecularBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::DielectricRoughBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::DielectricRoughBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 14 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricRoughBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::DielectricRoughBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<4, pbpt::material::DielectricRoughBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<4UL, DielectricRoughBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<4>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 4UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::DielectricRoughBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:54:17: error: 'auto' in return type deduced as 'radiometry::SampledSpectrum<double, 4>' here but deduced as 'Vector<double, 4>' in earlier return statement
   54 |                 return bxdf.f(swl, wo_local, wi_local, mode);
      |                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'pbpt::material::BSDF<double, 4>::f(const radiometry::SampledWavelength<double, 4> &, const math::Vector<double, 3> &, const math::Vector<double, 3> &, TransportMode, const BxDFFlags)::(anonymous class)::operator()<pbpt::material::ConductorBxDF<double, 4>>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:19: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _Args = <const pbpt::material::ConductorBxDF<double, 4> &>]
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: (skipping 15 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:178:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  178 |     _NOEXCEPT_(noexcept(static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...)))
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__config:304:38: note: expanded from macro '_NOEXCEPT_'
  304 | #    define _NOEXCEPT_(...) noexcept(__VA_ARGS__)
      |                                      ^~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:186:24: note: in instantiation of exception specification for '__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  186 |   static decltype(std::__invoke(std::declval<_XFp>(), std::declval<_XArgs>()...)) __try_call(int);
      |                        ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:192:44: note: while substituting deduced template arguments into function template '__try_call' [with _XFp = (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), _XArgs = (no value)]
  192 |   using _Result _LIBCPP_NODEBUG = decltype(__try_call<_Fp, _Args...>(0));
      |                                            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:256:38: note: in instantiation of template class 'std::__invokable_r<void, (lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  256 | inline const bool __is_invocable_v = __is_invocable<_Func, _Args...>::value;
      |                                      ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:288:67: note: in instantiation of variable template specialization 'std::__is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  288 | _LIBCPP_NO_SPECIALIZATIONS inline constexpr bool is_invocable_v = __is_invocable_v<_Fn, _Args...>;
      |                                                                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:610:19: note: in instantiation of variable template specialization 'std::is_invocable_v<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  610 |     static_assert(is_invocable_v<_Visitor, _Values...>, "`std::visit` requires the visitor to be exhaustive.");
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:617:7: note: (skipping 14 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  617 |       __std_visit_exhaustive_visitor_check< _Visitor, decltype((std::forward<_Alts>(__alts).__value))...>();
      |       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::ConductorBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
In file included from /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:1:
In file included from /Users/jinceyang/.conan2/p/b/gtest35810750d573d/p/include/gtest/gtest.h:55:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/memory:947:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/inout_ptr.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__memory/shared_ptr.h:21:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/reference_wrapper.h:16:
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__functional/weak_result_type.h:17:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:179:25: error: no matching function for call to object of type '(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)'
  179 |                { return static_cast<_Fp&&>(__f)(static_cast<_Args&&>(__args)...); }
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:618:19: note: in instantiation of function template specialization 'std::__invoke<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13), const pbpt::material::ConductorBxDF<double, 4> &>' requested here
  618 |       return std::__invoke(std::forward<_Visitor>(__visitor), std::forward<_Alts>(__alts).__value...);
      |                   ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/__type_traits/invoke.h:176:10: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>::operator()<const std::__variant_detail::__alt<5, pbpt::material::ConductorBxDF<double, 4>> &>' requested here
  176 | decltype(std::declval<_Fp>()(std::declval<_Args>()...))
      |          ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:532:14: note: while substituting deduced template arguments into function template '__invoke' [with _Fp = std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)>, _Args = <const __alt<5UL, ConductorBxDF<double, 4>> &>]
  532 |       return std::__invoke(static_cast<_Fp>(__f), __access::__base::__get_alt<_Is>(static_cast<_Vs>(__vs))...);
      |              ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:538:43: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__dispatcher<5>::__dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &>' requested here
  538 |     return __dispatcher<_Is...>::template __dispatch<_Fp, _Vs...>;
      |                                           ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:560:12: note: in instantiation of function template specialization 'std::__variant_detail::__visitation::__base::__make_dispatch<std::__variant_detail::__visitation::__variant::__value_visitor<(lambda at /Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13)> &&, const std::__variant_detail::__base<std::__variant_detail::_Trait::_TriviallyAvailable, pbpt::material::NullBxDF<double, 4>, pbpt::material::LambertianBxDF<double, 4>, pbpt::material::DielectricBxDF<double, 4>, pbpt::material::DielectricSpecularBxDF<double, 4>, pbpt::material::DielectricRoughBxDF<double, 4>, pbpt::material::ConductorBxDF<double, 4>, pbpt::material::ConductorSpecularBxDF<double, 4>, pbpt::material::ConductorRoughBxDF<double, 4>> &, 5UL>' requested here
  560 |     return __make_dispatch<_Fp, _Vs...>(__is);
      |            ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/usr/include/c++/v1/variant:566:34: note: (skipping 9 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)
  566 |     return __base::__make_farray(__make_fmatrix_impl<_Fp, _Vs...>(index_sequence<_Is..., _Js>{}, __ls...)...);
      |                                  ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/plugin/integrator/path_integrator.hpp:48:22: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_loop_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   48 |         return this->Li_loop_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:176:38: note: in instantiation of function template specialization 'pbpt::integrator::PathIntegrator<double, 4>::Li_ray_differential_impl<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  176 |         return as_derived().template Li_ray_differential_impl<SamplerT>(context, ray_diff, wavelength_sample, sampler);
      |                                      ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:138:36: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::Li_ray_differential<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
  138 |                         Li = this->Li_ray_differential(context, ray_diff, wavelength_sample, sampler);
      |                                    ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/integrator/integrator.hpp:83:39: note: in instantiation of function template specialization 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render_loop_typed<pbpt::lds::IndependentSampler<double>, pbpt::scene::SceneContext<double, pbpt::camera::ThinLensPerspectiveCamera<double>, pbpt::camera::HDRFilm<double, pbpt::camera::PixelSensor<double, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 300, 830>, pbpt::radiometry::TabularSpectrumDistribution<double, 360, 830>>>, pbpt::camera::GaussianFilter<double>, pbpt::aggregate::LinearAggregate<double>, std::variant<pbpt::light_sampler::UniformLightSampler<double>>>>' requested here
   83 |                                 this->render_loop_typed(context, sampler_proto, output_path, is_trace_ray_differential,
      |                                       ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/test/integrator/test_integrator.cpp:296:24: note: in instantiation of member function 'pbpt::integrator::Integrator<pbpt::integrator::PathIntegrator<double, 4>, double, 4>::render' requested here
  296 |             integrator.render(result.scene, output_exr_path.string(), false, observer, result.spp);
      |                        ^
/Users/jinceyang/Desktop/codebase/graphics/rtr2/external/pbpt/src/pbpt/material/bsdf.hpp:50:13: note: candidate template ignored: substitution failure [with bxdf:auto = pbpt::material::ConductorBxDF<double, 4>]
   50 |             [&](const auto& bxdf) {
      |             ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
ninja: build stopped: subcommand failed.
